<!--USER HOME PAGE-->>
<!DOCTYPE html>
<html>
    <head>
        
        <link rel="stylesheet" href="userPages.css">
        <meta charset="UTF-8">
        <title>Vaccino - Home</title>
      </head>
      <body>
        <div class="Header"> <!--This is the blue header section with the Vaccino title and text about the government-->
          <p>Ministry of
            <br> Health</p>
            <button type="button" id="signout">Sign Out</button>
            <h1>Vaccino</h1> <!--Align center-->
            <h3>The official New Zealand Government website<br>
              for vaccine and innoculation information</h3> <!--Align Under Vaccino-->
          </div> <!--End of blue header section-->
          <div class="buttonGroupHome"> <!--Creating a div container to group the buttons that will allow the user to view and change documents.-->
            <button type="button" class="btn" id="vaccineRecords">View Vaccine Records</button>
            <button type="button" class="btn" id="testResults">View Test Results</button>
            <button type="button" class="btn" id="qrCode">QR Code</button>
            <button type="button" class="btn" id="details">View/Update Details</button>
          </div><!--End of button group-->
          <div class="rightSide"><!--Grouping all the elements on the right hand side for ease of styling (remember with class it'd be .rightSide h3 for an example of styling the h3 element specifically)-->
            <h3 id="item1">Current Traffic <br>Light Level:</h3>
            <div id="TrafficChange"></div>
            <!--These functions are used to help display the current alert level-->
          <script>
            //Fetches the data from the file:
                fetch('alertleveldata.json')
                .then(function (response) {
                    return response.json();
                })
                .then(function (data) {
                    appendData2(data);
                })
                .catch(function (err) {
                    console.log('error: ' + err);
                });
                //Outputs the data for the file depending on the conditional number:
            function appendData2(data) {
                var mainContainer = document.getElementById("TrafficChange");
                var trafficdata = data[0].trafficLight;
                for (var i = 0; i < data.length; i++) {
                    var div = document.createElement("div");
                if(trafficdata == 0){
                  div.innerHTML = "<img src=\"images/green.svg\">";
                  mainContainer.appendChild(div);
                }
                else if(trafficdata == 1){
                  div.innerHTML = "<img src=\"images/yellow.svg\">";
                  mainContainer.appendChild(div);
                }
                else if(trafficdata == 2){
                  div.innerHTML = "<img src=\"images/red.svg\">";
                  mainContainer.appendChild(div);
                }
              }
            }
          </script>
          <div class="numbers">
            <p id="item2">Current number of<br>
              Covid-19 cases: </p>
              <div id="covidNum"></div>
              <!--/The following functions are used to get the current number of cases.-->
              <script>
                fetch('covidnodata.json')
                    .then(function (response) {
                        return response.json();
                    })
                    .then(function (data) {
                        appendData(data);
                    })
                    .catch(function (err) {
                        console.log('error: ' + err);
                    });
                function appendData(data) {
                    var mainContainer = document.getElementById("covidNum");
                    for (var i = 0; i < data.length; i++) {
                        var div = document.createElement("div");
                        div.innerHTML = data[i].covidNo;
                        mainContainer.appendChild(div);
                    }
                }
            </script>
            <br>
            </div>
            <p id="item3">Found a bug?</p>
            <p id="item4">Report it <a href="bugReport.html">here</a></p><!--If needed, in order to style all of these p elements I can give them and id for you to easily call.-->
          </div>
          <script src="userPages.js"></script>
      </body>
</html>